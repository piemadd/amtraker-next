(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3685:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9744)}])},638:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}t.default=function(e,t){var n=o.default,r={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};i=e,l=Promise,(null!=l&&"undefined"!==typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](i):i instanceof l)?r.loader=function(){return e}:"function"===typeof e?r.loader=e:"object"===typeof e&&(r=a({},r,e));var i,l;var u=r=a({},r,t);if(u.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(u.suspense)return n(u);r.loadableGenerated&&delete(r=a({},r,r.loadableGenerated)).loadableGenerated;if("boolean"===typeof r.ssr){if(!r.ssr)return delete r.ssr,s(n,r);delete r.ssr}return n(r)};i(n(7294));var o=i(n(4302));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return delete t.webpack,delete t.modules,e(t)}},6319:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var a=((r=n(7294))&&r.__esModule?r:{default:r}).default.createContext(null);t.LoadableContext=a},4302:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=(i=n(7294))&&i.__esModule?i:{default:i},l=n(7161),u=n(6319);var c=[],m=[],d=!1;function f(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}var t,n,a;return t=e,(n=[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;if(t.loading){if("number"===typeof n.delay)if(0===n.delay)this._state.pastDelay=!0;else{var r=this;this._delay=setTimeout((function(){r._update({pastDelay:!0})}),n.delay)}if("number"===typeof n.timeout){var a=this;this._timeout=setTimeout((function(){a._update({timedOut:!0})}),n.timeout)}}this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}])&&r(t.prototype,n),a&&r(t,a),e}();function h(e){return function(e,t){var n=function(){if(!a){var t=new p(e,r);a={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return a.promise()},r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);r.suspense&&(r.lazy=s.default.lazy(r.loader));var a=null;if(!d&&!r.suspense){var i=r.webpack?r.webpack():r.modules;i&&m.push((function(e){var t=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;if(-1!==e.indexOf(l))return n()}}catch(u){r=!0,a=u}finally{try{t||null==s.return||s.return()}finally{if(r)throw a}}}))}var c=r.suspense?function(e,t){return s.default.createElement(r.lazy,o({},e,{ref:t}))}:function(e,t){n();var o=s.default.useContext(u.LoadableContext),i=l.useSubscription(a);return s.default.useImperativeHandle(t,(function(){return{retry:a.retry}}),[]),o&&Array.isArray(r.modules)&&r.modules.forEach((function(e){o(e)})),s.default.useMemo((function(){return i.loading||i.error?s.default.createElement(r.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:a.retry}):i.loaded?s.default.createElement(function(e){return e&&e.__esModule?e.default:e}(i.loaded),e):null}),[e,i])};return c.preload=function(){return!r.suspense&&n()},c.displayName="LoadableComponent",s.default.forwardRef(c)}(f,e)}function g(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return g(e,t)}))}h.preloadAll=function(){return new Promise((function(e,t){g(c).then(e,t)}))},h.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return d=!0,t()};g(m,e).then(n,n)}))},window.__NEXT_PRELOADREADY=h.preloadReady;var y=h;t.default=y},9744:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(5893),a=(n(9008),n(5152)),o=n(1664),i=n(7294),s=n(1163),l=n(4655),u=n(4298),c=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)(u.default,{src:"https://www.googletagmanager.com/gtag/js?id=G-L3ZMMQZR55"}),(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n                        window.dataLayer = window.dataLayer || [];\n                        function gtag(){dataLayer.push(arguments);}\n                        gtag('js', new Date());\n                        gtag('require', 'dnt')\n                        gtag('config', 'G-L3ZMMQZR55', { page_path: window.location.pathname });\n                    "}}),(0,r.jsx)(u.default,{src:"https://storage.googleapis.com/outfox/dnt_min.js"}),(0,r.jsx)("title",{children:"Amtraker | Amtrak Train Tracker"}),(0,r.jsx)("meta",{property:"og:url",content:"https://amtraker.com/"}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:"Amtraker | Amtrak Train Tracker"}),(0,r.jsx)("meta",{property:"og:description",content:"Never worry about tracking your Amtrak train again, even in the middle of nowhere. This simple website and PWA makes it easier than ever to track trains while using minimal amounts of data."}),(0,r.jsx)("meta",{property:"og:image",content:"https://amtraker.com/images/opengraph.png"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{property:"twitter:domain",content:"amtraker.com"}),(0,r.jsx)("meta",{property:"twitter:url",content:"https://amtraker.com/"}),(0,r.jsx)("meta",{name:"twitter:title",content:"Amtraker | Amtrak Train Tracker"}),(0,r.jsx)("meta",{name:"twitter:description",content:"Never worry about tracking your Amtrak train again, even in the middle of nowhere. This simple website and PWA makes it easier than ever to track trains while using minimal amounts of data."}),(0,r.jsx)("meta",{name:"twitter:image",content:"https://amtraker.com/images/opengraph.png"}),(0,r.jsx)("link",{rel:"manifest",href:"manifest.json"}),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"images/icons/icon-72.png"}),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"images/icons/icon-512.png"}),(0,r.jsx)("meta",{name:"apple-mobile-web-app-status-bar",content:"#212529"}),(0,r.jsx)("meta",{name:"theme-color",content:"#212529"}),(0,r.jsx)("meta",{name:"title",content:"Amtraker | Amtrak Train Tracker"}),(0,r.jsx)("meta",{name:"description",content:"Never worry about tracking your Amtrak train again, even in the middle of nowhere. This simple website and PWA makes it easier than ever to track trains while using minimal amounts of data."}),(0,r.jsx)("meta",{name:"keywords",content:"Amtrak, Amtrak Train Amtrak Train Status, Amtrak Train Tracker, Amtrak Tracker, Amtrak Train Status Today, Amtrak Status, Amtrak Train Tracking, Amtrak Tracking, Train Tracking"}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),(0,r.jsx)("meta",{name:"language",content:"English"}),(0,r.jsx)("meta",{name:"revisit-after",content:"30 minutes"}),(0,r.jsx)("meta",{name:"author",content:"Piero LLC"}),(0,r.jsx)("link",{rel:"sitemap",type:"application/xml",title:"Sitemap",href:"/sitemap.xml"})]})};function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){var e=(0,s.useRouter)(),t=(0,a.default)((function(){return Promise.all([n.e(269),n.e(459)]).then(n.bind(n,459))}),{loadableGenerated:{webpack:function(){return[459]}},ssr:!1}),u=(0,i.useState)([]),m=u[0],f=u[1];return(0,i.useEffect)((function(){var t=new URLSearchParams(window.location.search),n=Object.fromEntries(t.entries());if(n.delete){var r=localStorage.getItem("savedTrains")?localStorage.getItem("savedTrains"):"{}";delete(r=JSON.parse(r))["".concat(n.n,"-").concat(n.d)],localStorage.setItem("savedTrains",JSON.stringify(r)),e.replace("/")}if(n.add){var a=localStorage.getItem("savedTrains")?localStorage.getItem("savedTrains"):"{}";(a=JSON.parse(a))["".concat(n.n,"-").concat(n.d)]=a["".concat(n.n,"-").concat(n.d)]?a["".concat(n.n,"-").concat(n.d)]:[],localStorage.setItem("savedTrains",JSON.stringify(a)),e.replace("/")}}),[]),(0,i.useEffect)((function(){var e=function(e){console.log(n[e]),fetch("https://api.amtraker.com/v1/trains/".concat(n[e].split("-")[0])).then((function(e){return e.json()})).then((function(t){for(var r=function(r){new Date(t[r].origSchDep).getDate()==parseInt(n[e].split("-")[1])&&(console.log(new Date(t[r].origSchDep).getDate()),console.log(parseInt(n[e].split("-")[1])),console.log(new Date(t[r].origSchDep).getDate()==parseInt(n[e].split("-")[1])),console.log(t[r]),f((function(e){return d(e).concat([t[r]])})))},a=0;a<t.length;a++)r(a)}))},t=localStorage.getItem("savedTrains")?localStorage.getItem("savedTrains"):"{}";t=JSON.parse(t);for(var n=Object.keys(t),r=0;r<n.length;r++)e(r)}),[]),console.log(m),(0,r.jsxs)("div",{children:[(0,r.jsx)(c,{}),(0,r.jsx)("main",{className:"screen",children:(0,r.jsx)("section",{className:"trainsBarAlign",children:(0,r.jsxs)("details",{className:"content",children:[(0,r.jsx)("summary",{children:"Your Trains"}),m.map((function(e){return(0,r.jsx)(l.Z,{trainNum:e.trainNum,trainDate:new Date(e.origSchDep).getDate(),clickable:!0},"".concat(e.trainNum,"-").concat(new Date(e.origSchDep).getDate()))})),(0,r.jsx)(o.default,{href:"../trains/new",children:(0,r.jsx)("a",{className:"trainBoxLink",children:(0,r.jsx)("p",{className:"card trainCard newTrain clickableThing",children:"+ New Train"})})})]})})}),(0,r.jsx)("script",{async:!0,src:"../scripts/menu.js"}),(0,r.jsx)(t,{trainData:m})]})}},5152:function(e,t,n){e.exports=n(638)},9008:function(e,t,n){e.exports=n(5443)}},function(e){e.O(0,[774,429,888,179],(function(){return t=3685,e(e.s=t);var t}));var t=e.O();_N_E=t}]);