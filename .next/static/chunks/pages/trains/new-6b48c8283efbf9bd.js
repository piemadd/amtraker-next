(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{6712:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trains/new",function(){return n(4579)}])},9986:function(e,a,n){"use strict";var t=n(5893);a.Z=function(e){var a=e.trainObj,n=e.clickable,r=new Date(a.origSchDep),s="";"false"!=n&&(s=" clickableThing");var c=a.velocity?a.velocity:0,i=a.trainTimely?a.trainTimely:"No Data";return(0,t.jsxs)("article",{className:"card trainCard"+s,children:[(0,t.jsxs)("div",{className:"meta",children:[(0,t.jsxs)("div",{className:"title",children:[(0,t.jsx)("h3",{children:a.routeName}),(0,t.jsx)("div",{className:"status "+i.toLowerCase().split(" ").join("-"),children:i})]}),(0,t.jsxs)("p",{className:"route",children:[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()]," ",r.getDate(),", ",r.getFullYear()," - ",a.origCode," --\x3e ",a.destCode]}),(0,t.jsxs)("p",{className:"route",children:[(0,t.jsx)("span",{className:"tag",children:"Speed: "}),c.toFixed(2)," mph"]}),(0,t.jsxs)("p",{className:"location",children:[(0,t.jsx)("span",{className:"tag",children:"Next Stop:"})," ",a.eventName," (",a.eventCode,")"]})]}),(0,t.jsx)("div",{className:"number number-small",children:a.trainNum})]})}},4579:function(e,a,n){"use strict";n.r(a);var t=n(5893),r=n(9008),s=n(7294),c=n(1664),i=n(1163),l=n(4221),o=n(9986);a.default=function(){var e=(0,i.useRouter)(),a=(0,s.useState)([]),n=a[0],u=a[1],d=(0,s.useState)(!1),h=(d[0],d[1]),m=(0,s.useState)(""),x=m[0],N=m[1];(0,s.useEffect)((function(){h(!0),fetch("https://api.amtraker.com/v1/trains").then((function(e){return e.json()})).then((function(e){u(e),h(!1)}))}),[]);for(var j=[],f=Object.keys(n),p=0;p<f.length;p++)for(var v=0;v<n[f[p]].length;v++)j.push(n[f[p]][v]);var g={includeScore:!0,threshold:.4,keys:["trainNum","routeName","aliases","stations.code","stations.stationName"]},k=l.Z.createIndex(g.keys,j),w=new l.Z(j,g,k).search(x),b=x?w.map((function(e){return e.item})):j;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.default,{children:(0,t.jsx)("title",{children:"Amtraker | New Train"})}),(0,t.jsxs)("header",{className:"newPageHeader",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"clickable",children:(0,t.jsx)("a",{onClick:function(){return e.back()},children:"Back"})}),(0,t.jsx)("h1",{children:"New Train"}),(0,t.jsx)("h2",{})]}),(0,t.jsx)("div",{className:"searchBoxHolder",children:(0,t.jsx)("input",{type:"text",id:"searchBox",name:"searchBox",placeholder:"Search",value:x,onChange:function(e){var a=e.currentTarget;N(a.value)}})})]}),(0,t.jsx)("main",{className:"trainsHolder newPage",children:b.map((function(e){return(0,t.jsx)(c.default,{href:"/?add=true&n=".concat(e.trainNum,"&d=").concat(new Date(e.origSchDep).getDate()),className:"trainBoxLink",children:(0,t.jsx)("a",{className:"trainBoxLink",children:(0,t.jsx)(o.Z,{trainObj:e,clickable:!0})})},"".concat(e.trainNum,"-").concat(new Date(e.origSchDep).getDate()))}))})]})}}},function(e){e.O(0,[700,774,888,179],(function(){return a=6712,e(e.s=a);var a}));var a=e.O();_N_E=a}]);